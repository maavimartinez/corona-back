I, [2020-03-17T11:28:52.277883 #77492]  INFO -- : [8d108bec-cae9-4066-8f42-74874570298c] Started POST "/products" for 127.0.0.1 at 2020-03-17 11:28:52 -0300
I, [2020-03-17T11:28:56.119844 #77492]  INFO -- : [8d108bec-cae9-4066-8f42-74874570298c] Processing by ProductsController#create as */*
I, [2020-03-17T11:28:56.120018 #77492]  INFO -- : [8d108bec-cae9-4066-8f42-74874570298c]   Parameters: {"name"=>"Alcohol en gel 100ml", "price"=>150, "town_id"=>1, "available"=>true, "product"=>{"name"=>"Alcohol en gel 100ml", "price"=>150, "available"=>true, "town_id"=>1}}
W, [2020-03-17T11:28:56.129518 #77492]  WARN -- : [8d108bec-cae9-4066-8f42-74874570298c] Can't verify CSRF token authenticity.
D, [2020-03-17T11:28:57.141689 #77492] DEBUG -- : [8d108bec-cae9-4066-8f42-74874570298c]   [1m[36mUser Load (203.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:28:57.960693 #77492] DEBUG -- : [8d108bec-cae9-4066-8f42-74874570298c]   [1m[36mShop Load (250.4ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."name" = $1 ORDER BY "shops"."id" ASC LIMIT $2[0m  [["name", ""], ["LIMIT", 1]]
D, [2020-03-17T11:28:58.169203 #77492] DEBUG -- : [8d108bec-cae9-4066-8f42-74874570298c]   [1m[35m (200.9ms)[0m  [1m[35mBEGIN[0m
D, [2020-03-17T11:28:58.986398 #77492] DEBUG -- : [8d108bec-cae9-4066-8f42-74874570298c]   [1m[36mTown Load (205.5ms)[0m  [1m[34mSELECT "towns".* FROM "towns" WHERE "towns"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:28:59.190709 #77492] DEBUG -- : [8d108bec-cae9-4066-8f42-74874570298c]   [1m[36mShop Create (197.3ms)[0m  [1m[32mINSERT INTO "shops" ("town_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["town_id", 1], ["created_at", "2020-03-17 14:28:58.992600"], ["updated_at", "2020-03-17 14:28:58.992600"]]
D, [2020-03-17T11:28:59.400780 #77492] DEBUG -- : [8d108bec-cae9-4066-8f42-74874570298c]   [1m[35m (209.5ms)[0m  [1m[35mCOMMIT[0m
D, [2020-03-17T11:28:59.769726 #77492] DEBUG -- : [8d108bec-cae9-4066-8f42-74874570298c]   [1m[35m (157.5ms)[0m  [1m[35mBEGIN[0m
D, [2020-03-17T11:28:59.934881 #77492] DEBUG -- : [8d108bec-cae9-4066-8f42-74874570298c]   [1m[36mUser Load (164.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:29:00.113402 #77492] DEBUG -- : [8d108bec-cae9-4066-8f42-74874570298c]   [1m[35m (177.0ms)[0m  [1m[31mROLLBACK[0m
I, [2020-03-17T11:29:00.114146 #77492]  INFO -- : [8d108bec-cae9-4066-8f42-74874570298c] Completed 422 Unprocessable Entity in 3994ms (ActiveRecord: 5055.6ms | Allocations: 21380)
F, [2020-03-17T11:29:00.115048 #77492] FATAL -- : [8d108bec-cae9-4066-8f42-74874570298c]   
[8d108bec-cae9-4066-8f42-74874570298c] ActiveRecord::RecordInvalid (Validation failed: Shop must exist):
[8d108bec-cae9-4066-8f42-74874570298c]   
[8d108bec-cae9-4066-8f42-74874570298c] app/controllers/products_controller.rb:43:in `create'
I, [2020-03-17T11:29:29.457430 #77492]  INFO -- : [7d11a02a-db8c-4c5a-b6ff-7c46039bded6] Started POST "/products" for 127.0.0.1 at 2020-03-17 11:29:29 -0300
I, [2020-03-17T11:29:29.459722 #77492]  INFO -- : [7d11a02a-db8c-4c5a-b6ff-7c46039bded6] Processing by ProductsController#create as */*
I, [2020-03-17T11:29:29.459833 #77492]  INFO -- : [7d11a02a-db8c-4c5a-b6ff-7c46039bded6]   Parameters: {"name"=>"Alcohol en gel 100ml", "price"=>150, "town_id"=>1, "available"=>true, "shop_name"=>"El tunel", "product"=>{"name"=>"Alcohol en gel 100ml", "price"=>150, "available"=>true, "town_id"=>1}}
W, [2020-03-17T11:29:29.460781 #77492]  WARN -- : [7d11a02a-db8c-4c5a-b6ff-7c46039bded6] Can't verify CSRF token authenticity.
D, [2020-03-17T11:29:29.910502 #77492] DEBUG -- : [7d11a02a-db8c-4c5a-b6ff-7c46039bded6]   [1m[36mUser Load (203.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:29:30.067921 #77492] DEBUG -- : [7d11a02a-db8c-4c5a-b6ff-7c46039bded6]   [1m[36mShop Load (155.8ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."name" = $1 ORDER BY "shops"."id" ASC LIMIT $2[0m  [["name", "El tunel"], ["LIMIT", 1]]
D, [2020-03-17T11:29:30.320912 #77492] DEBUG -- : [7d11a02a-db8c-4c5a-b6ff-7c46039bded6]   [1m[35m (251.4ms)[0m  [1m[35mBEGIN[0m
D, [2020-03-17T11:29:30.525743 #77492] DEBUG -- : [7d11a02a-db8c-4c5a-b6ff-7c46039bded6]   [1m[36mTown Load (204.4ms)[0m  [1m[34mSELECT "towns".* FROM "towns" WHERE "towns"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:29:30.730820 #77492] DEBUG -- : [7d11a02a-db8c-4c5a-b6ff-7c46039bded6]   [1m[36mShop Create (203.3ms)[0m  [1m[32mINSERT INTO "shops" ("name", "town_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "El tunel"], ["town_id", 1], ["created_at", "2020-03-17 14:29:30.526359"], ["updated_at", "2020-03-17 14:29:30.526359"]]
D, [2020-03-17T11:29:30.957996 #77492] DEBUG -- : [7d11a02a-db8c-4c5a-b6ff-7c46039bded6]   [1m[35m (226.4ms)[0m  [1m[35mCOMMIT[0m
D, [2020-03-17T11:29:31.140464 #77492] DEBUG -- : [7d11a02a-db8c-4c5a-b6ff-7c46039bded6]   [1m[35m (177.7ms)[0m  [1m[35mBEGIN[0m
D, [2020-03-17T11:29:31.344953 #77492] DEBUG -- : [7d11a02a-db8c-4c5a-b6ff-7c46039bded6]   [1m[36mUser Load (204.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:29:31.557770 #77492] DEBUG -- : [7d11a02a-db8c-4c5a-b6ff-7c46039bded6]   [1m[35m (211.4ms)[0m  [1m[31mROLLBACK[0m
I, [2020-03-17T11:29:31.558346 #77492]  INFO -- : [7d11a02a-db8c-4c5a-b6ff-7c46039bded6] Completed 422 Unprocessable Entity in 2098ms (ActiveRecord: 1838.0ms | Allocations: 2790)
F, [2020-03-17T11:29:31.573374 #77492] FATAL -- : [7d11a02a-db8c-4c5a-b6ff-7c46039bded6]   
[7d11a02a-db8c-4c5a-b6ff-7c46039bded6] ActiveRecord::RecordInvalid (Validation failed: Shop must exist):
[7d11a02a-db8c-4c5a-b6ff-7c46039bded6]   
[7d11a02a-db8c-4c5a-b6ff-7c46039bded6] app/controllers/products_controller.rb:43:in `create'
I, [2020-03-17T11:30:21.590948 #77534]  INFO -- : [a01e26eb-b143-4cef-b9fc-b88c54dde03e] Started POST "/products" for 127.0.0.1 at 2020-03-17 11:30:21 -0300
I, [2020-03-17T11:30:25.312765 #77534]  INFO -- : [a01e26eb-b143-4cef-b9fc-b88c54dde03e] Processing by ProductsController#create as */*
I, [2020-03-17T11:30:25.312950 #77534]  INFO -- : [a01e26eb-b143-4cef-b9fc-b88c54dde03e]   Parameters: {"name"=>"Alcohol en gel 100ml", "price"=>150, "town_id"=>1, "available"=>true, "shop_name"=>"El tunel", "product"=>{"name"=>"Alcohol en gel 100ml", "price"=>150, "available"=>true, "town_id"=>1}}
W, [2020-03-17T11:30:25.319826 #77534]  WARN -- : [a01e26eb-b143-4cef-b9fc-b88c54dde03e] Can't verify CSRF token authenticity.
D, [2020-03-17T11:30:26.335185 #77534] DEBUG -- : [a01e26eb-b143-4cef-b9fc-b88c54dde03e]   [1m[36mUser Load (185.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:30:27.154115 #77534] DEBUG -- : [a01e26eb-b143-4cef-b9fc-b88c54dde03e]   [1m[36mShop Load (203.9ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."name" = $1 ORDER BY "shops"."id" ASC LIMIT $2[0m  [["name", "El tunel"], ["LIMIT", 1]]
D, [2020-03-17T11:30:27.377490 #77534] DEBUG -- : [a01e26eb-b143-4cef-b9fc-b88c54dde03e]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
I, [2020-03-17T11:30:27.378250 #77534]  INFO -- : [a01e26eb-b143-4cef-b9fc-b88c54dde03e] Completed 422 Unprocessable Entity in 2065ms (ActiveRecord: 3377.7ms | Allocations: 17465)
F, [2020-03-17T11:30:27.378717 #77534] FATAL -- : [a01e26eb-b143-4cef-b9fc-b88c54dde03e]   
[a01e26eb-b143-4cef-b9fc-b88c54dde03e] ActiveRecord::RecordInvalid (Validation failed: Shop must exist):
[a01e26eb-b143-4cef-b9fc-b88c54dde03e]   
[a01e26eb-b143-4cef-b9fc-b88c54dde03e] app/controllers/products_controller.rb:45:in `create'
I, [2020-03-17T11:31:11.404266 #77580]  INFO -- : [75bb9a3f-157c-4054-8593-ddd6e53969da] Started POST "/products" for 127.0.0.1 at 2020-03-17 11:31:11 -0300
I, [2020-03-17T11:31:15.081217 #77580]  INFO -- : [75bb9a3f-157c-4054-8593-ddd6e53969da] Processing by ProductsController#create as */*
I, [2020-03-17T11:31:15.081364 #77580]  INFO -- : [75bb9a3f-157c-4054-8593-ddd6e53969da]   Parameters: {"name"=>"Alcohol en gel 100ml", "price"=>150, "town_id"=>1, "available"=>true, "shop_name"=>"El tunel", "product"=>{"name"=>"Alcohol en gel 100ml", "price"=>150, "available"=>true, "town_id"=>1}}
W, [2020-03-17T11:31:15.087948 #77580]  WARN -- : [75bb9a3f-157c-4054-8593-ddd6e53969da] Can't verify CSRF token authenticity.
D, [2020-03-17T11:31:16.101627 #77580] DEBUG -- : [75bb9a3f-157c-4054-8593-ddd6e53969da]   [1m[36mUser Load (203.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:31:16.921067 #77580] DEBUG -- : [75bb9a3f-157c-4054-8593-ddd6e53969da]   [1m[36mShop Load (205.1ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."name" = $1 ORDER BY "shops"."id" ASC LIMIT $2[0m  [["name", "El tunel"], ["LIMIT", 1]]
D, [2020-03-17T11:31:17.256780 #77580] DEBUG -- : [75bb9a3f-157c-4054-8593-ddd6e53969da]   [1m[35m (157.9ms)[0m  [1m[35mBEGIN[0m
D, [2020-03-17T11:31:17.643412 #77580] DEBUG -- : [75bb9a3f-157c-4054-8593-ddd6e53969da]   [1m[36mShop Load (184.4ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:31:17.645455 #77580] DEBUG -- : [75bb9a3f-157c-4054-8593-ddd6e53969da]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:31:17.842418 #77580] DEBUG -- : [75bb9a3f-157c-4054-8593-ddd6e53969da]   [1m[36mProduct Create (195.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "available", "created_at", "updated_at", "user_id", "town_id", "shop_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Alcohol en gel 100ml"], ["price", 150.0], ["available", true], ["created_at", "2020-03-17 14:31:17.645924"], ["updated_at", "2020-03-17 14:31:17.645924"], ["user_id", 2], ["town_id", 1], ["shop_id", 2]]
D, [2020-03-17T11:31:18.058856 #77580] DEBUG -- : [75bb9a3f-157c-4054-8593-ddd6e53969da]   [1m[35m (215.7ms)[0m  [1m[35mCOMMIT[0m
I, [2020-03-17T11:31:18.067659 #77580]  INFO -- : [75bb9a3f-157c-4054-8593-ddd6e53969da]   Rendering products/create.json.jbuilder
I, [2020-03-17T11:31:18.070603 #77580]  INFO -- : [75bb9a3f-157c-4054-8593-ddd6e53969da]   Rendered products/create.json.jbuilder (Duration: 2.7ms | Allocations: 250)
I, [2020-03-17T11:31:18.071039 #77580]  INFO -- : [75bb9a3f-157c-4054-8593-ddd6e53969da] Completed 201 Created in 2990ms (Views: 10.8ms | ActiveRecord: 4151.5ms | Allocations: 19514)
I, [2020-03-17T11:31:36.212551 #77580]  INFO -- : [2f78f2f8-97f9-4249-a18e-8bba5befd31c] Started POST "/products" for 127.0.0.1 at 2020-03-17 11:31:36 -0300
I, [2020-03-17T11:31:36.213388 #77580]  INFO -- : [2f78f2f8-97f9-4249-a18e-8bba5befd31c] Processing by ProductsController#create as */*
I, [2020-03-17T11:31:36.213471 #77580]  INFO -- : [2f78f2f8-97f9-4249-a18e-8bba5befd31c]   Parameters: {"name"=>"Tapabocas con filtro", "price"=>600, "town_id"=>1, "available"=>true, "shop_name"=>"El tunel", "product"=>{"name"=>"Tapabocas con filtro", "price"=>600, "available"=>true, "town_id"=>1}}
W, [2020-03-17T11:31:36.214541 #77580]  WARN -- : [2f78f2f8-97f9-4249-a18e-8bba5befd31c] Can't verify CSRF token authenticity.
D, [2020-03-17T11:31:36.686251 #77580] DEBUG -- : [2f78f2f8-97f9-4249-a18e-8bba5befd31c]   [1m[36mUser Load (206.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:31:36.888779 #77580] DEBUG -- : [2f78f2f8-97f9-4249-a18e-8bba5befd31c]   [1m[36mShop Load (201.3ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."name" = $1 ORDER BY "shops"."id" ASC LIMIT $2[0m  [["name", "El tunel"], ["LIMIT", 1]]
D, [2020-03-17T11:31:37.094050 #77580] DEBUG -- : [2f78f2f8-97f9-4249-a18e-8bba5befd31c]   [1m[35m (202.3ms)[0m  [1m[35mBEGIN[0m
D, [2020-03-17T11:31:37.298489 #77580] DEBUG -- : [2f78f2f8-97f9-4249-a18e-8bba5befd31c]   [1m[36mShop Load (203.9ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:31:37.299910 #77580] DEBUG -- : [2f78f2f8-97f9-4249-a18e-8bba5befd31c]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:31:37.503883 #77580] DEBUG -- : [2f78f2f8-97f9-4249-a18e-8bba5befd31c]   [1m[36mProduct Create (202.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "available", "created_at", "updated_at", "user_id", "town_id", "shop_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Tapabocas con filtro"], ["price", 600.0], ["available", true], ["created_at", "2020-03-17 14:31:37.300289"], ["updated_at", "2020-03-17 14:31:37.300289"], ["user_id", 2], ["town_id", 1], ["shop_id", 2]]
D, [2020-03-17T11:31:37.708621 #77580] DEBUG -- : [2f78f2f8-97f9-4249-a18e-8bba5befd31c]   [1m[35m (204.1ms)[0m  [1m[35mCOMMIT[0m
I, [2020-03-17T11:31:37.710689 #77580]  INFO -- : [2f78f2f8-97f9-4249-a18e-8bba5befd31c]   Rendering products/create.json.jbuilder
I, [2020-03-17T11:31:37.711181 #77580]  INFO -- : [2f78f2f8-97f9-4249-a18e-8bba5befd31c]   Rendered products/create.json.jbuilder (Duration: 0.3ms | Allocations: 151)
I, [2020-03-17T11:31:37.711428 #77580]  INFO -- : [2f78f2f8-97f9-4249-a18e-8bba5befd31c] Completed 201 Created in 1498ms (Views: 1.4ms | ActiveRecord: 1220.7ms | Allocations: 2684)
I, [2020-03-17T11:31:54.336017 #77580]  INFO -- : [204317ae-cb4c-406c-828f-d90fc573f307] Started POST "/products" for 127.0.0.1 at 2020-03-17 11:31:54 -0300
I, [2020-03-17T11:31:54.338542 #77580]  INFO -- : [204317ae-cb4c-406c-828f-d90fc573f307] Processing by ProductsController#create as */*
I, [2020-03-17T11:31:54.338702 #77580]  INFO -- : [204317ae-cb4c-406c-828f-d90fc573f307]   Parameters: {"name"=>"Tapabocas con filtro", "price"=>600, "town_id"=>1, "available"=>true, "shop_name"=>"Farmashop Arocena", "product"=>{"name"=>"Tapabocas con filtro", "price"=>600, "available"=>true, "town_id"=>1}}
W, [2020-03-17T11:31:54.340362 #77580]  WARN -- : [204317ae-cb4c-406c-828f-d90fc573f307] Can't verify CSRF token authenticity.
D, [2020-03-17T11:31:54.810923 #77580] DEBUG -- : [204317ae-cb4c-406c-828f-d90fc573f307]   [1m[36mUser Load (206.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:31:55.017609 #77580] DEBUG -- : [204317ae-cb4c-406c-828f-d90fc573f307]   [1m[36mShop Load (203.9ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."name" = $1 ORDER BY "shops"."id" ASC LIMIT $2[0m  [["name", "Farmashop Arocena"], ["LIMIT", 1]]
D, [2020-03-17T11:31:55.219002 #77580] DEBUG -- : [204317ae-cb4c-406c-828f-d90fc573f307]   [1m[35m (199.4ms)[0m  [1m[35mBEGIN[0m
D, [2020-03-17T11:31:56.159592 #77580] DEBUG -- : [204317ae-cb4c-406c-828f-d90fc573f307]   [1m[36mTown Load (292.2ms)[0m  [1m[34mSELECT "towns".* FROM "towns" WHERE "towns"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:31:56.459695 #77580] DEBUG -- : [204317ae-cb4c-406c-828f-d90fc573f307]   [1m[36mShop Create (278.8ms)[0m  [1m[32mINSERT INTO "shops" ("name", "town_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Farmashop Arocena"], ["town_id", 1], ["created_at", "2020-03-17 14:31:56.180308"], ["updated_at", "2020-03-17 14:31:56.180308"]]
D, [2020-03-17T11:31:56.653403 #77580] DEBUG -- : [204317ae-cb4c-406c-828f-d90fc573f307]   [1m[35m (192.9ms)[0m  [1m[35mCOMMIT[0m
D, [2020-03-17T11:31:56.810425 #77580] DEBUG -- : [204317ae-cb4c-406c-828f-d90fc573f307]   [1m[35m (155.4ms)[0m  [1m[35mBEGIN[0m
D, [2020-03-17T11:31:57.062654 #77580] DEBUG -- : [204317ae-cb4c-406c-828f-d90fc573f307]   [1m[36mShop Load (251.7ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-17T11:31:57.219652 #77580] DEBUG -- : [204317ae-cb4c-406c-828f-d90fc573f307]   [1m[36mUser Load (154.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:31:57.472180 #77580] DEBUG -- : [204317ae-cb4c-406c-828f-d90fc573f307]   [1m[36mProduct Create (250.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "price", "available", "created_at", "updated_at", "user_id", "town_id", "shop_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Tapabocas con filtro"], ["price", 600.0], ["available", true], ["created_at", "2020-03-17 14:31:57.220321"], ["updated_at", "2020-03-17 14:31:57.220321"], ["user_id", 2], ["town_id", 1], ["shop_id", 3]]
D, [2020-03-17T11:31:57.677413 #77580] DEBUG -- : [204317ae-cb4c-406c-828f-d90fc573f307]   [1m[35m (204.6ms)[0m  [1m[35mCOMMIT[0m
I, [2020-03-17T11:31:57.679213 #77580]  INFO -- : [204317ae-cb4c-406c-828f-d90fc573f307]   Rendering products/create.json.jbuilder
I, [2020-03-17T11:31:57.679685 #77580]  INFO -- : [204317ae-cb4c-406c-828f-d90fc573f307]   Rendered products/create.json.jbuilder (Duration: 0.3ms | Allocations: 152)
I, [2020-03-17T11:31:57.679924 #77580]  INFO -- : [204317ae-cb4c-406c-828f-d90fc573f307] Completed 201 Created in 3341ms (Views: 1.3ms | ActiveRecord: 2799.9ms | Allocations: 6523)
I, [2020-03-17T11:32:23.060813 #77580]  INFO -- : [a9afe308-660d-4e72-b50e-cb3540972416] Started GET "/products" for 127.0.0.1 at 2020-03-17 11:32:23 -0300
I, [2020-03-17T11:32:23.063131 #77580]  INFO -- : [a9afe308-660d-4e72-b50e-cb3540972416] Processing by ProductsController#index as */*
D, [2020-03-17T11:32:23.485469 #77580] DEBUG -- : [a9afe308-660d-4e72-b50e-cb3540972416]   [1m[36mUser Load (205.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:32:23.690715 #77580] DEBUG -- : [a9afe308-660d-4e72-b50e-cb3540972416]   [1m[36mProduct Load (204.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
D, [2020-03-17T11:32:23.895641 #77580] DEBUG -- : [a9afe308-660d-4e72-b50e-cb3540972416]   [1m[36mTown Load (203.0ms)[0m  [1m[34mSELECT "towns".* FROM "towns" WHERE "towns"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:32:23.896535 #77580] DEBUG -- : [a9afe308-660d-4e72-b50e-cb3540972416]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:32:24.714505 #77580] DEBUG -- : [a9afe308-660d-4e72-b50e-cb3540972416]   [1m[36mCity Load (205.8ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:32:24.878224 #77580] DEBUG -- : [a9afe308-660d-4e72-b50e-cb3540972416]   [1m[36mShop Load (157.8ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:32:24.879485 #77580] DEBUG -- : [a9afe308-660d-4e72-b50e-cb3540972416]   [1m[36mCACHE Town Load (0.0ms)[0m  [1m[34mSELECT "towns".* FROM "towns" WHERE "towns"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:32:24.879986 #77580] DEBUG -- : [a9afe308-660d-4e72-b50e-cb3540972416]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:32:24.880454 #77580] DEBUG -- : [a9afe308-660d-4e72-b50e-cb3540972416]   [1m[36mCACHE City Load (0.0ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:32:24.880897 #77580] DEBUG -- : [a9afe308-660d-4e72-b50e-cb3540972416]   [1m[36mCACHE Shop Load (0.0ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:32:24.881627 #77580] DEBUG -- : [a9afe308-660d-4e72-b50e-cb3540972416]   [1m[36mCACHE Town Load (0.0ms)[0m  [1m[34mSELECT "towns".* FROM "towns" WHERE "towns"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:32:24.882109 #77580] DEBUG -- : [a9afe308-660d-4e72-b50e-cb3540972416]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:32:24.882500 #77580] DEBUG -- : [a9afe308-660d-4e72-b50e-cb3540972416]   [1m[36mCACHE City Load (0.0ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:32:25.036883 #77580] DEBUG -- : [a9afe308-660d-4e72-b50e-cb3540972416]   [1m[36mShop Load (154.0ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
I, [2020-03-17T11:32:25.056267 #77580]  INFO -- : [a9afe308-660d-4e72-b50e-cb3540972416]   Rendering products/index.json.jbuilder
I, [2020-03-17T11:32:25.059776 #77580]  INFO -- : [a9afe308-660d-4e72-b50e-cb3540972416]   Rendered products/index.json.jbuilder (Duration: 3.3ms | Allocations: 1190)
I, [2020-03-17T11:32:25.060049 #77580]  INFO -- : [a9afe308-660d-4e72-b50e-cb3540972416] Completed 500 Internal Server Error in 1997ms (ActiveRecord: 1538.1ms | Allocations: 6827)
F, [2020-03-17T11:32:25.061474 #77580] FATAL -- : [a9afe308-660d-4e72-b50e-cb3540972416]   
[a9afe308-660d-4e72-b50e-cb3540972416] ActionView::Template::Error (undefined method `id' for #<Hash:0x00007f8207e62a40>):
[a9afe308-660d-4e72-b50e-cb3540972416]     1: json.products @ret do |product|
[a9afe308-660d-4e72-b50e-cb3540972416]     2:     json.id product.id
[a9afe308-660d-4e72-b50e-cb3540972416]     3:     json.name product.name
[a9afe308-660d-4e72-b50e-cb3540972416]     4:     json.available product.available
[a9afe308-660d-4e72-b50e-cb3540972416]     5:     json.price product.price
[a9afe308-660d-4e72-b50e-cb3540972416]   
[a9afe308-660d-4e72-b50e-cb3540972416] app/views/products/index.json.jbuilder:2
[a9afe308-660d-4e72-b50e-cb3540972416] app/views/products/index.json.jbuilder:1
I, [2020-03-17T11:34:14.343177 #77632]  INFO -- : [8a4a7941-ffd6-4659-bdc3-5dcd450b4dca] Started GET "/products" for 127.0.0.1 at 2020-03-17 11:34:14 -0300
I, [2020-03-17T11:34:14.347959 #77632]  INFO -- : [8a4a7941-ffd6-4659-bdc3-5dcd450b4dca] Processing by ProductsController#index as */*
D, [2020-03-17T11:34:19.045948 #77632] DEBUG -- : [8a4a7941-ffd6-4659-bdc3-5dcd450b4dca]   [1m[36mUser Load (155.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:34:19.299831 #77632] DEBUG -- : [8a4a7941-ffd6-4659-bdc3-5dcd450b4dca]   [1m[36mProduct Load (245.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
D, [2020-03-17T11:34:20.528753 #77632] DEBUG -- : [8a4a7941-ffd6-4659-bdc3-5dcd450b4dca]   [1m[36mTown Load (202.9ms)[0m  [1m[34mSELECT "towns".* FROM "towns" WHERE "towns"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:34:20.534995 #77632] DEBUG -- : [8a4a7941-ffd6-4659-bdc3-5dcd450b4dca]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:34:21.450585 #77632] DEBUG -- : [8a4a7941-ffd6-4659-bdc3-5dcd450b4dca]   [1m[36mCity Load (200.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:34:22.274426 #77632] DEBUG -- : [8a4a7941-ffd6-4659-bdc3-5dcd450b4dca]   [1m[36mShop Load (208.6ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:34:22.280747 #77632] DEBUG -- : [8a4a7941-ffd6-4659-bdc3-5dcd450b4dca]   [1m[36mCACHE Town Load (0.0ms)[0m  [1m[34mSELECT "towns".* FROM "towns" WHERE "towns"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:34:22.281083 #77632] DEBUG -- : [8a4a7941-ffd6-4659-bdc3-5dcd450b4dca]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:34:22.281364 #77632] DEBUG -- : [8a4a7941-ffd6-4659-bdc3-5dcd450b4dca]   [1m[36mCACHE City Load (0.0ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:34:22.281609 #77632] DEBUG -- : [8a4a7941-ffd6-4659-bdc3-5dcd450b4dca]   [1m[36mCACHE Shop Load (0.0ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:34:22.282019 #77632] DEBUG -- : [8a4a7941-ffd6-4659-bdc3-5dcd450b4dca]   [1m[36mCACHE Town Load (0.0ms)[0m  [1m[34mSELECT "towns".* FROM "towns" WHERE "towns"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:34:22.282245 #77632] DEBUG -- : [8a4a7941-ffd6-4659-bdc3-5dcd450b4dca]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:34:22.282467 #77632] DEBUG -- : [8a4a7941-ffd6-4659-bdc3-5dcd450b4dca]   [1m[36mCACHE City Load (0.0ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:34:22.474739 #77632] DEBUG -- : [8a4a7941-ffd6-4659-bdc3-5dcd450b4dca]   [1m[36mShop Load (191.9ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
I, [2020-03-17T11:34:22.482941 #77632]  INFO -- : [8a4a7941-ffd6-4659-bdc3-5dcd450b4dca]   Rendering products/index.json.jbuilder
I, [2020-03-17T11:34:22.484747 #77632]  INFO -- : [8a4a7941-ffd6-4659-bdc3-5dcd450b4dca]   Rendered products/index.json.jbuilder (Duration: 1.7ms | Allocations: 1085)
I, [2020-03-17T11:34:22.485078 #77632]  INFO -- : [8a4a7941-ffd6-4659-bdc3-5dcd450b4dca] Completed 200 OK in 8137ms (Views: 6.1ms | ActiveRecord: 5427.2ms | Allocations: 28694)
I, [2020-03-17T11:34:33.717603 #77632]  INFO -- : [3184fdaa-00d5-4806-a893-a89c0847cec1] Started GET "/products/1" for 127.0.0.1 at 2020-03-17 11:34:33 -0300
I, [2020-03-17T11:34:33.718346 #77632]  INFO -- : [3184fdaa-00d5-4806-a893-a89c0847cec1] Processing by ProductsController#show as */*
I, [2020-03-17T11:34:33.718411 #77632]  INFO -- : [3184fdaa-00d5-4806-a893-a89c0847cec1]   Parameters: {"id"=>"1"}
D, [2020-03-17T11:34:34.148346 #77632] DEBUG -- : [3184fdaa-00d5-4806-a893-a89c0847cec1]   [1m[36mUser Load (184.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:34:34.564071 #77632] DEBUG -- : [3184fdaa-00d5-4806-a893-a89c0847cec1]   [1m[36mProduct Load (210.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:34:34.764993 #77632] DEBUG -- : [3184fdaa-00d5-4806-a893-a89c0847cec1]   [1m[36mTown Load (199.8ms)[0m  [1m[34mSELECT "towns".* FROM "towns" WHERE "towns"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:34:34.765858 #77632] DEBUG -- : [3184fdaa-00d5-4806-a893-a89c0847cec1]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
I, [2020-03-17T11:34:34.773612 #77632]  INFO -- : [3184fdaa-00d5-4806-a893-a89c0847cec1] Completed 500 Internal Server Error in 1055ms (ActiveRecord: 595.3ms | Allocations: 3180)
F, [2020-03-17T11:34:34.774345 #77632] FATAL -- : [3184fdaa-00d5-4806-a893-a89c0847cec1]   
[3184fdaa-00d5-4806-a893-a89c0847cec1] NoMethodError (undefined method `city_id' for #<Product:0x00007fbb6537a960>):
[3184fdaa-00d5-4806-a893-a89c0847cec1]   
[3184fdaa-00d5-4806-a893-a89c0847cec1] app/controllers/products_controller.rb:23:in `show'
I, [2020-03-17T11:35:20.674715 #77678]  INFO -- : [2da595a3-003a-46bf-8492-9e76251e7696] Started GET "/products/1" for 127.0.0.1 at 2020-03-17 11:35:20 -0300
I, [2020-03-17T11:35:20.678729 #77678]  INFO -- : [2da595a3-003a-46bf-8492-9e76251e7696] Processing by ProductsController#show as */*
I, [2020-03-17T11:35:20.678896 #77678]  INFO -- : [2da595a3-003a-46bf-8492-9e76251e7696]   Parameters: {"id"=>"1"}
D, [2020-03-17T11:35:25.146022 #77678] DEBUG -- : [2da595a3-003a-46bf-8492-9e76251e7696]   [1m[36mUser Load (181.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:35:25.915636 #77678] DEBUG -- : [2da595a3-003a-46bf-8492-9e76251e7696]   [1m[36mProduct Load (155.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:35:26.680363 #77678] DEBUG -- : [2da595a3-003a-46bf-8492-9e76251e7696]   [1m[36mTown Load (203.6ms)[0m  [1m[34mSELECT "towns".* FROM "towns" WHERE "towns"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:35:26.686303 #77678] DEBUG -- : [2da595a3-003a-46bf-8492-9e76251e7696]   [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-17T11:35:27.500330 #77678] DEBUG -- : [2da595a3-003a-46bf-8492-9e76251e7696]   [1m[36mCity Load (206.0ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-17T11:35:28.319573 #77678] DEBUG -- : [2da595a3-003a-46bf-8492-9e76251e7696]   [1m[36mShop Load (204.8ms)[0m  [1m[34mSELECT "shops".* FROM "shops" WHERE "shops"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
I, [2020-03-17T11:35:28.330417 #77678]  INFO -- : [2da595a3-003a-46bf-8492-9e76251e7696]   Rendering products/show.json.jbuilder
I, [2020-03-17T11:35:28.331936 #77678]  INFO -- : [2da595a3-003a-46bf-8492-9e76251e7696]   Rendered products/show.json.jbuilder (Duration: 1.4ms | Allocations: 492)
I, [2020-03-17T11:35:28.332242 #77678]  INFO -- : [2da595a3-003a-46bf-8492-9e76251e7696] Completed 200 OK in 7653ms (Views: 4.1ms | ActiveRecord: 4615.4ms | Allocations: 27214)
